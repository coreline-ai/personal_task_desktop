# personal work desktop ğŸš€

[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?style=flat-square&logo=python&logoColor=white)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109+-009688?style=flat-square&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-336791?style=flat-square&logo=postgresql&logoColor=white)](https://www.postgresql.org/)

<p align="center">
<img width="30%" height="30%" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2026-02-15 á„‹á…©á„’á…® 5 04 34" src="https://github.com/user-attachments/assets/a9edb2c9-39d0-4bdf-abd5-2640c397d252" />
<img width="30%" height="30%" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2026-02-15 á„‹á…©á„’á…® 5 04 11" src="https://github.com/user-attachments/assets/6a4a117e-59a0-42e4-9545-d7bbf566e9e7" />
<img width="30%" height="30%" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2026-02-15 á„‹á…©á„’á…® 5 04 02" src="https://github.com/user-attachments/assets/ce1ab55f-dad5-4bbe-ba9d-f8cf9569514c" />
</p>

**personal work desktop**ëŠ” íŒŒì›Œ ìœ ì €ë¥¼ ìœ„í•œ ê³ ì„±ëŠ¥ ë©€í‹° ë³´ë“œ ì‘ì—… ê´€ë¦¬ ë° ì§€ì‹ í—ˆë¸Œì…ë‹ˆë‹¤. FastAPI ë°±ì—”ë“œì™€ ê³ ê¸‰ ê²€ìƒ‰ ê¸°ëŠ¥(FTS + Trigram + Semantic), ê·¸ë¦¬ê³  ê²½ëŸ‰ì˜ Vanilla JS í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ğŸš€ ì„±ëŠ¥ ì¤‘ì‹¬ ì•„í‚¤í…ì²˜**: **FastAPI** + **PostgreSQL** ê¸°ë°˜ìœ¼ë¡œ ì†ë„ì™€ ì•ˆì •ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.
- **ğŸ” í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì—”ì§„**: **ì „ë¬¸ ê²€ìƒ‰(FTS)**, **íŠ¸ë¼ì´ê·¸ë¨ ìœ ì‚¬ë„ ê²€ìƒ‰**, **ë²¡í„° ì˜ë¯¸ ê²€ìƒ‰(`pgvector`)**ì„ í†µí•© ì œê³µí•©ë‹ˆë‹¤.
- **ğŸ§± WS15 PostgreSQL ê°•í™”**: ê²€ìƒ‰ ë„ë©”ì¸ ìŠ¤í‚¤ë§ˆë¥¼ `TIMESTAMPTZ` + `JSONB`ë¡œ í‘œì¤€í™”í•˜ê³  ë¡¤ë°± SQL ê²€ì¦ ê²½ë¡œë¥¼ ê°–ì·„ìŠµë‹ˆë‹¤.
- **ğŸ“Š 3D ì§€ì‹ ê·¸ë˜í”„**: ì‘ì—…/íƒœê·¸/ë¬¸ì„œ ê´€ê³„ë¥¼ `force-graph-3d` ê¸°ë°˜ìœ¼ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.
- **ğŸ“‹ ë©€í‹° ë³´ë“œ ì¹¸ë°˜**: ë³´ë“œë³„ ë°ì´í„°(Task/Tag/Settings/Stats) ê²©ë¦¬ ìš´ì˜ì„ ì§€ì›í•©ë‹ˆë‹¤.
- **ğŸ¨ í”„ë¦¬ë¯¸ì—„ UX**: ë‹¤í¬ í…Œë§ˆ ì¤‘ì‹¬ ë””ìì¸, ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ, í‚¤ë³´ë“œ ì¹œí™”ì  ìƒí˜¸ì‘ìš©ì„ ì œê³µí•©ë‹ˆë‹¤.
- **ğŸ§  ì‹œë§¨í‹± ì¸í…”ë¦¬ì „ìŠ¤**: ì‘ì—…/ë¬¸ì„œ ì„ë² ë”© ìƒì„±ìœ¼ë¡œ ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰ì„ ì§€ì›í•©ë‹ˆë‹¤.
- **ğŸ³ Docker ì§€ì›**: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ë¡œì»¬/ìš´ì˜ í™˜ê²½ êµ¬ì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ì„± ìš”ì†Œ | ê¸°ìˆ  | ì„¤ëª… |
|-----------|------------|-------------|
| **ë°±ì—”ë“œ** | ![FastAPI](https://img.shields.io/badge/-FastAPI-009688?style=flat-square&logo=fastapi&logoColor=white) | Pydantic ê²€ì¦ ê¸°ë°˜ ê³ ì„±ëŠ¥ ë¹„ë™ê¸° API |
| **ë°ì´í„°ë² ì´ìŠ¤** | ![PostgreSQL](https://img.shields.io/badge/-PostgreSQL-336791?style=flat-square&logo=postgresql&logoColor=white) | `pgvector` ë° `pg_trgm` í™•ì¥ì„ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ ì €ì¥ì†Œ |
| **í”„ë¡ íŠ¸ì—”ë“œ** | ![JavaScript](https://img.shields.io/badge/-Vanilla%20JS-F7DF1E?style=flat-square&logo=javascript&logoColor=black) | í”„ë ˆì„ì›Œí¬ ì¢…ì†ì„±ì´ ì—†ëŠ” ê²½ëŸ‰ UI |
| **í…ŒìŠ¤íŠ¸** | ![Pytest](https://img.shields.io/badge/-Pytest-0A9EDC?style=flat-square&logo=pytest&logoColor=white) | API í†µí•© í…ŒìŠ¤íŠ¸ + Playwright E2E |

## ğŸ“ ì•„í‚¤í…ì²˜

```mermaid
graph TD
    Client["í”„ë¡ íŠ¸ì—”ë“œ (Vanilla JS)"] -->|"REST API"| API["FastAPI ë°±ì—”ë“œ"]
    subgraph DataLayer["ë°ì´í„° ê³„ì¸µ"]
        API -->|"SQL + Vector"| DB[("PostgreSQL 16+")]
        DB -->|"ë²¡í„°"| PGVector["pgvector í™•ì¥"]
        DB -->|"FTS/Trigram"| SearchIdx["ê²€ìƒ‰ ì¸ë±ìŠ¤"]
    end
    API -->|"S3 í”„ë¡œí† ì½œ"| Storage["ì˜¤ë¸Œì íŠ¸ ìŠ¤í† ë¦¬ì§€ / ë¡œì»¬"]
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ì¤€ë¹„

- **Docker & Docker Compose** (ê°€ì¥ ë¹ ë¥¸ ì‹¤í–‰ ê¶Œì¥)
- ë˜ëŠ” **Python 3.11+ + PostgreSQL 16+** (ë¡œì»¬ ê°œë°œ í™˜ê²½)

### ë¹ ë¥¸ ì‹œì‘ (Docker)

1.  **ì €ì¥ì†Œ í´ë¡ **
    ```bash
    git clone https://github.com/coreline-ai/personal_work_desktop.git
    cd personal_work_desktop
    ```

2.  **Docker Compose ì‹¤í–‰**
    ```bash
    cp .env.example .env
    docker-compose up -d --build
    ```

3.  **ì ‘ì† ì£¼ì†Œ**
    -   **API Base**: `http://localhost:18000/api`
    -   **API ë¬¸ì„œ**: `http://localhost:18000/docs`
    -   **MinIO ì½˜ì†”**: `http://localhost:9001`

4.  **í”„ë¡ íŠ¸ ì •ì  ì„œë²„ ì‹¤í–‰ (Docker ìŠ¤íƒê³¼ ë³„ë„)**
    ```bash
    python -m http.server 18080 --directory web
    ```
    -   **í”„ë¡ íŠ¸ì—”ë“œ**: `http://localhost:18080`

### ìˆ˜ë™ ì„¤ì¹˜ (ë¡œì»¬ ê°œë°œ)

<details>
<summary>ë‹¨ê³„ë³„ ì‹¤í–‰ ê°€ì´ë“œ í¼ì¹˜ê¸°</summary>

#### 1. ê°œë°œ í™˜ê²½ êµ¬ì„±
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
pip install -r requirements-dev.txt
```

#### 2. DB ì„¤ì •
PostgreSQL ì‹¤í–‰ í›„ í™˜ê²½ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ì„¸ìš”. (ëŸ°íƒ€ì„ì€ PostgreSQL ì „ìš©)
```bash
export APP_DB_BACKEND=postgres
export DATABASE_URL='postgresql://user:password@localhost:5432/dbname'
```

#### 3. ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ì´ˆê¸°í™”
```bash
# ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
python scripts/apply_migrations.py

# (ì„ íƒ) ê¸°ì¡´ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê²€ìƒ‰ ì¸ë±ìŠ¤ ì¬êµ¬ì„±
python scripts/rebuild_search_index.py --with-embeddings

# (ê¶Œì¥) ì—­ìˆœ ë¡¤ë°± SQL íŠ¸ëœì­ì…˜ ê²€ì¦
python scripts/verify_postgres_search_rollback.py
```

#### 4. ë°±ì—”ë“œ ì‹¤í–‰
```bash
uvicorn app.main:app --host 127.0.0.1 --port 18000 --reload
```

#### 5. í”„ë¡ íŠ¸ ì‹¤í–‰
```bash
python -m http.server 18080 --directory web
```
</details>

## ğŸ§­ ëŸ°íƒ€ì„ ì •ì±… (WS15)

- ëŸ°íƒ€ì„ DB ë°±ì—”ë“œëŠ” **PostgreSQLë§Œ ì§€ì›**í•©ë‹ˆë‹¤.
- ëŸ°íƒ€ì„/ì§„ë‹¨ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹œ `DATABASE_URL`ì´ í•„ìš”í•©ë‹ˆë‹¤.
- SQLite ëŸ°íƒ€ì„ fallbackì€ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.
- `scripts/migrate_sqlite_to_postgres.py`, `scripts/validate_postgres_integrity.py`ëŠ” ë°ì´í„° ì´ê´€/ë¬´ê²°ì„± ê²€ì¦ ìš©ë„ë¡œë§Œ ìœ ì§€ë©ë‹ˆë‹¤.

## ğŸ” í†µí•© ê²€ìƒ‰ / ì„ë² ë”©

```bash
# í†µí•© ê²€ìƒ‰ ì¸ë±ìŠ¤ ì¬ìƒì„±
python scripts/rebuild_search_index.py

# ì¸ë±ìŠ¤ + ì„ë² ë”© ì¬ìƒì„±
python scripts/rebuild_search_index.py --with-embeddings --embedding-force

# ì„ë² ë”©ë§Œ ì¬ìƒì„±
python scripts/rebuild_search_embeddings.py --force
```

ì˜ë¯¸ê²€ìƒ‰ ê´€ë ¨ ì„ íƒ í”Œë˜ê·¸:

```bash
export APP_SEARCH_ENABLE_PGVECTOR=true
export APP_SEARCH_EMBED_PROVIDER=local_hash
export APP_SEARCH_EMBED_DIM=1536
export APP_SEARCH_EMBED_LAZY_INDEX=true
export APP_SEARCH_LEXICAL_TOPK=1200
```

## ğŸ“š ë¬¸ì„œ

-   **[ê°œë°œ ê³„íš](docs/DEVELOPMENT_PLAN.md)**: ë¡œë“œë§µ ë° ê¸°ëŠ¥ ì§„í–‰ í˜„í™©
-   **[API ë³€ê²½ ì´ë ¥](docs/API_CHANGELOG.md)**: API ë³€ê²½ ë‚´ì—­ ì •ë¦¬
-   **[ë©€í‹° ë³´ë“œ ê°€ì´ë“œ](docs/BOARD_MULTI_WORKSPACE_TASKS.md)**: ë©€í‹° ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìš´ì˜ ê°€ì´ë“œ
-   **[ë°°í¬ ê°€ì´ë“œ](docs/DEPLOYMENT.md)**: ë¡œì»¬/Docker ë°°í¬ ì ˆì°¨
-   **[WS15 ì»·ì˜¤ë²„ ëŸ°ë¶](docs/WS15_POSTGRES_CUTOVER_RUNBOOK.md)**: PostgreSQL ì „í™˜/ë¡¤ë°± ì ˆì°¨

## ğŸ§ª í…ŒìŠ¤íŠ¸

ì‹œìŠ¤í…œ ë¬´ê²°ì„± í™•ì¸ì„ ìœ„í•´ ì•„ë˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
pytest -q

# API í†µí•© í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
pytest -q tests/test_api.py

# í”„ë¡ íŠ¸ E2E í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
pytest -q tests/test_frontend_e2e.py
```

PostgreSQL ê¸°ì¤€ ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰:

```bash
export TEST_DATABASE_URL='postgresql://super_desktop:super_desktop@127.0.0.1:5432/super_desktop'
pytest -q
```

## ğŸ“ˆ ìš´ì˜ / ì„±ëŠ¥

```bash
# ëŸ°íƒ€ì„ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸
python scripts/smoke_check.py --api-base http://127.0.0.1:18000/api

# í™˜ê²½ ì§„ë‹¨
python scripts/diagnose_env.py

# ì—­ìˆœ ë¡¤ë°± SQL íŠ¸ëœì­ì…˜ ê²€ì¦ (ì˜êµ¬ ë³€ê²½ ì—†ìŒ)
python scripts/verify_postgres_search_rollback.py

# í†µí•© ê²€ìƒ‰ ë²¤ì¹˜ë§ˆí¬ + ë¦¬í¬íŠ¸
python scripts/benchmark_search_p95.py \
  --api-base http://127.0.0.1:18000/api \
  --seed-min-tasks 2000 \
  --requests 120 \
  --warmup 12 \
  --report-json reports/search_benchmark.json \
  --report-md reports/search_benchmark.md

# ë²¤ì¹˜ë§ˆí¬ ìš”ì•½ (ë³‘ëª© ì¿¼ë¦¬ Top + ê°œì„  ì œì•ˆ)
python scripts/summarize_search_benchmark.py \
  --report-json reports/search_benchmark.json \
  --top-n 10 \
  --min-requests 5 \
  --output-json reports/search_benchmark.summary.json \
  --output-md reports/search_benchmark.summary.md
```

## ğŸ“Œ í˜„ì¬ WS15 ìƒíƒœ (2026-02-15)

- WS15 ì»·ì˜¤ë²„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤‘ **ìŠ¤í‚¤ë§ˆ/ë§ˆì´ê·¸ë ˆì´ì…˜ ì¼ì›í™”, ë¡¤ë°± ê²€ì¦, PostgreSQL ì „ìš© ëŸ°íƒ€ì„**ì€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.
- ìµœê·¼ ë²¤ì¹˜ë§ˆí¬(2k seed / 120 req): **p95 ì•½ 425ms**.
- ë‚¨ì€ ëª©í‘œ: **10k ë¬¸ì„œ ê¸°ì¤€ p95 < 300ms** (`docs/DEVELOPMENT_PLAN.md`ì˜ ì§€ì† íŠœë‹ í•­ëª©).

## ğŸ¤ ê¸°ì—¬

ì´ìŠˆ ì œë³´ ë° PR ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤.

1.  ì €ì¥ì†Œ Fork
2.  ë¸Œëœì¹˜ ìƒì„± (`git checkout -b feature/AmazingFeature`)
3.  ë³€ê²½ ì»¤ë°‹ (`git commit -m 'Add some AmazingFeature'`)
4.  ì›ê²© ë¸Œëœì¹˜ í‘¸ì‹œ (`git push origin feature/AmazingFeature`)
5.  Pull Request ìƒì„±

## ğŸ“„ ë¼ì´ì„ ìŠ¤

í˜„ì¬ ì €ì¥ì†Œì—ëŠ” ë¼ì´ì„ ìŠ¤ íŒŒì¼ì´ ì•„ì§ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.
